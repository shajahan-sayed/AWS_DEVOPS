What is Auto Scaling (ASG) in AWS?

Auto Scaling is an AWS service that automatically adds or removes EC2 instances based on demand.
Think of it like a system that grows during heavy traffic and shrinks when traffic is low â€” saving money and improving performance.

â­ Why Auto Scaling?
Feature	Meaning
High Availability	Your app always has enough instances to handle load.
Fault Tolerance	If an EC2 instance fails â†’ ASG replaces it automatically.
Cost Optimization	Unused instances are terminated; you pay only for what you need.
Elasticity	Automatically scales out (add instances) or scales in (remove instances).
ğŸ§  Core Concepts of Auto Scaling
1ï¸âƒ£ Launch Template

Defines how to create an EC2 instance.
It includes:

AMI

Instance type

SG

User data (startup script)

Key pair

This is the blueprint for new instances.

2ï¸âƒ£ Auto Scaling Group (ASG)

This is the engine of auto scaling.
It controls:

Minimum capacity (always running)

Desired capacity (target)

Maximum capacity (upper limit)

VPC subnets (AZ redundancy)

Health checks & replacement

3ï¸âƒ£ Scaling Policies

Rules that decide when to add or remove EC2 instances.

Examples:

CPU > 70% for 2 minutes â†’ scale out

CPU < 30% for 5 minutes â†’ scale in

Request count per target > 1000 â†’ scale out

Target tracking â†’ keep average CPU around 50%

4ï¸âƒ£ Load Balancer (ALB)

Spreads traffic evenly across EC2 instances.
ALB + ASG is the classic production combination.

ASG registers new EC2s into ALB automatically.

ğŸ§ª FULL PROJECT: Auto Scaling with ALB (From Scratch)

This is a complete, practical, real-world setup.

âœ” Step 1: Create a Launch Template

Console â†’ EC2 â†’ Launch Templates â†’ Create

Include:

AMI: Amazon Linux 2

Instance Type: t2.micro

Security Group: allow 80 inbound

User Data (optional): simple web server

#!/bin/bash
yum update -y
yum install httpd -y
systemctl start httpd
systemctl enable httpd
echo "<h1>Server $(hostname) responding</h1>" > /var/www/html/index.html


This ensures every new EC2 created by ASG runs a web server.

âœ” Step 2: Create Auto Scaling Group

Console â†’ EC2 â†’ Auto Scaling â†’ Create ASG

Select Launch Template

Choose at least 2 AZs for high availability (e.g., us-east-1a, us-east-1b)

Set:

Min: 1
Desired: 1
Max: 3


Leave scaling policies for now.

âœ” Step 3: Attach ALB (Load Balancer)

While configuring the ASG:

Choose Attach to a new Application Load Balancer

Listener: HTTP 80

Security Group: allow 80 inbound

Target group: create new (Instance mode)

Health checks: /

ASG will now register instances automatically under the ALB.

âœ” Step 4: Add Scaling Policies

Choose Target Tracking Scaling Policy:

Metric: Average CPU Utilization

Target: 70%

Cooldown: default is fine

This means:

ASG will try to keep average CPU at 70%.

If CPU rises â†’ add instance

If CPU drops â†’ remove instance

âœ” Step 5: Load Test

To test scaling out, SSH into your instance:

sudo yum install stress -y
stress --cpu 4 --timeout 300


Or use online tools like Loader.io / JMeter / Apache Benchmark.

This will push CPU above 70% and trigger a scale-out event.

After some time, you will see:

EC2 â†’ new instance launched

Target Group â†’ new healthy target

ALB â†’ traffic split between instances

ğŸ¯ INTERVIEW-WORTHY UNDERSTANDING
â­ Q1: What problems does Auto Scaling solve?

Handles traffic spikes automatically

Ensures application availability

Replaces failed instances

Reduces cost by removing idle servers

â­ Q2: Types of scaling policies
Policy	Explanation
Target Tracking	Like thermostat â€” keeps metric at target (most common).
Simple Scaling	If CPU > 70% â†’ add 1 instance.
Step Scaling	Multiple steps based on severity (20% â†’ +1; 40% â†’ +2).
Scheduled Scaling	Scale at specific time (e.g., business hours).
â­ Q3: Health checks?

ASG performs:

EC2 Status Checks

ALB Health Checks (recommended)

If instance fails â†’ ASG immediately replaces it.

â­ Q4: Launch Template vs Launch Configuration
Launch Template	Launch Config
Newer, recommended	Legacy
Versioning support	No versioning
Can use Spot + On-Demand mix	No
Required for new features	Not supported
ğŸ§± ARCHITECTURE DIAGRAM (Simple Explanation)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Application Load Balancerâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Auto Scaling Groupâ”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚            â”‚            â”‚
 Instance 1   Instance 2   Instance 3


ALB forwards traffic

ASG ensures right number of instances
